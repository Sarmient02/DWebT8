{% extends 'base.html' %}

{% block extrahead %}
    <title>Personas</title>
    <script defer src="https://use.fontawesome.com/releases/v6.1.2/js/all.js"></script>
{% endblock extrahead %}

{% block content %}
    <div class="container">
        <h1 class="title is-1">Lista de Personas</h1>
        <div class="columns">
            <table class="table is-striped has-text-centered is-hoverable is-bordered">
                <thead>
                    <tr>
                        <th class="has-text-centered">id</th>
                        <th class="has-text-centered">Nombre</th>
                        <th class="has-text-centered">Tipo de Documento</th>
                        <th class="has-text-centered">Documento</th>
                        <th class="has-text-centered">Lugar de Nacimiento</th>
                        <th class="has-text-centered">Fecha de Nacimiento</th>
                        <th class="has-text-centered">Email</th>
                        <th class="has-text-centered">Tel√©fono</th>
                        <th class="has-text-centered">Usuario</th>
                        <th class="has-text-centered">Operaciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% if personas %}
                    {% for doc in personas %}
                    <tr>
                        <td>{{doc.pk}}</td>
                        <td>{{doc.name}} {{doc.lastname}}</td>
                        <td>{{doc.tipodocumento.nombre}}</td>
                        <td>{{doc.documento}}</td>
                        <td>{{doc.lugarnacimiento.nombre}}</td>
                        <td>{{doc.fechanacimiento}}</td>
                        <td>{{doc.email}}</td>
                        <td>{{doc.telefono}}</td>
                        <td>{{doc.username}}</td>
                        <td>
                            <div class="columns">
                            <div class="column">
                                <a class="button is-info" href="{% url 'edit_persona' doc.pk %}">
                                    <span class="icon is-small">
                                        <i class="fas fa-pen-to-square"></i>
                                    </span>
                                </a>
                            </div>
                            <div class="column">
                                <a class="button is-danger" href="{% url 'delete_persona' doc.pk %}">
                                    <span class="icon is-small">
                                        <i class="fas fa-trash"></i>
                                    </span>
                                </a>
                            </div>
                            </div>
                        </td> 
                    </tr>
                    {% endfor %}
                    {% endif %}
                </tbody>
            </table>
        </div>
        <style>
            .table {
              margin-left: auto;
              margin-right: auto;
            }
        </style>
        <div class="field">
            <a href="/personas/new/" class="button is-success">
                <span>Crear nueva persona</span>
                <span class="icon is-small">
                    <i class="fas fa-file-circle-plus"></i>
                </span>
            </a>
        </div>
    </div>
{% endblock content %}